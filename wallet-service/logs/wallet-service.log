2025-11-12 09:46:10 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Starting WalletServiceApplicationTests using Java 21.0.8 with PID 43015 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 09:46:10 [Test worker] DEBUG c.e.w.WalletServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 09:46:10 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-12 09:46:10 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 09:46:10 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2025-11-12 09:46:10 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 09:46:10 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 09:46:10 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 09:46:10 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 09:46:10 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 09:46:11 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2dd2ff87
2025-11-12 09:46:11 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 09:46:11 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 09:46:12 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 09:46:12 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:12 [Test worker] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 09:46:13 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 09:46:13 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ed73a686-c3fc-46d1-9fe6-43d4ee2b3779

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 09:46:13 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 09:46:13 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Started WalletServiceApplicationTests in 3.815 seconds (process running for 4.661)
2025-11-12 09:46:14 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:14 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest
2025-11-12 09:46:14 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests]: GetAllTransactionsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:14 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests
2025-11-12 09:46:14 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Starting TransactionControllerTest using Java 21.0.8 with PID 43015 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 09:46:14 [Test worker] DEBUG c.e.w.c.TransactionControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 09:46:14 [Test worker] INFO  c.e.w.c.TransactionControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 09:46:14 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 09:46:14 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2025-11-12 09:46:14 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 09:46:14 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 09:46:14 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 09:46:14 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-12 09:46:14 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43eb053e
2025-11-12 09:46:14 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-12 09:46:14 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 09:46:14 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 09:46:14 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:14 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 09:46:14 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 07ec9387-8928-4665-8adc-f3586c312414

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 09:46:14 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 09:46:15 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 09:46:15 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 09:46:15 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 09:46:15 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Started TransactionControllerTest in 1.063 seconds (process running for 6.152)
2025-11-12 09:46:15 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests]: GetTransactionsByWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:15 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests
2025-11-12 09:46:15 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests]: TransactionHistoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:15 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests
2025-11-12 09:46:15 [Test worker] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 09:46:15 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest]: WalletControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:15 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest
2025-11-12 09:46:15 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests]: TransactionSummaryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:15 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests
2025-11-12 09:46:15 [Test worker] INFO  c.e.w.c.WalletControllerTest - Starting WalletControllerTest using Java 21.0.8 with PID 43015 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 09:46:15 [Test worker] DEBUG c.e.w.c.WalletControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 09:46:15 [Test worker] INFO  c.e.w.c.WalletControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 09:46:15 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 09:46:15 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 2 JPA repository interfaces.
2025-11-12 09:46:15 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 09:46:15 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 09:46:15 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 09:46:15 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-12 09:46:16 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@11cd442d
2025-11-12 09:46:16 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-12 09:46:16 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 09:46:16 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 09:46:16 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:16 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 09:46:16 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7ac54529-45e9-4ece-9c04-ed4be594c417

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 09:46:16 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.c.WalletControllerTest - Started WalletControllerTest in 0.847 seconds (process running for 7.225)
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests]: TotalBalanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransferTests]: TransferTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransferTests
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests]: CreditDebitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests]: GetWalletsByUserTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests]: CreateWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests
2025-11-12 09:46:16 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests]: GetAllWalletsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 09:46:16 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0, Monthly total: 0
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=bad-date, end=10-11-2025, page=0, size=5
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=INVALID, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [null]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100, Monthly total: 100
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type INVALID
2025-11-12 09:46:16 [Test worker] ERROR c.e.w.service.TransactionService - Invalid transaction type provided: INVALID
java.lang.IllegalArgumentException: No enum constant com.example.wallet_service.model.Transaction.Type.INVALID
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at com.example.wallet_service.model.Transaction$Type.valueOf(Transaction.java:38)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:86)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidTransactionType(TransactionServiceTest.java:129)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from invalid-date to 10-11-2025 with type CREDIT
2025-11-12 09:46:16 [Test worker] ERROR c.e.w.service.TransactionService - Invalid date format provided: start=invalid-date, end=10-11-2025
java.time.format.DateTimeParseException: Text 'invalid-date' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2010)
	at java.base/java.time.LocalDate.parse(LocalDate.java:435)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:81)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidDateFormat(TransactionServiceTest.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type CREDIT
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Fetching transaction summary for wallet ID: 1
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.WalletService - Transaction summary for wallet 1: [TransactionSummaryDTO[type=CREDIT, totalAmount=500]]
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@5764c072
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.WalletService - Total wallets fetched: 1
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found for balance check: 1
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 09:46:16 [Test worker] DEBUG c.e.w.service.WalletService - Current balance for wallet 1 is 500
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 1
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 400
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 200, description: Purchase
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 100, requested 200
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Debit amount 100 exceeds max limit 50
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 0, description: Invalid
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Invalid debit amount: 0
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 10, description: Test
2025-11-12 09:46:16 [Test worker] ERROR c.e.w.service.WalletService - Debit conflict - wallet 1 updated concurrently
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 99, amount: 200, description: Deposit
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 99
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 0, description: Deposit
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Invalid credit amount: 0
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 700
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 09:46:16 [Test worker] WARN  c.e.w.service.WalletService - Credit amount 200 exceeds max limit 100
2025-11-12 09:46:16 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 50, description: Deposit
2025-11-12 09:46:16 [Test worker] ERROR c.e.w.service.WalletService - Credit conflict - wallet 1 updated concurrently
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-12 09:46:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-12 09:46:23 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 43079 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 09:46:23 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 09:46:23 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 09:46:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 09:46:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2025-11-12 09:46:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 09:46:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 09:46:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 09:46:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 09:46:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 617 ms
2025-11-12 09:46:24 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 09:46:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 09:46:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 09:46:24 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 09:46:24 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 09:46:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 09:46:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@19a7906c
2025-11-12 09:46:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 09:46:24 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 09:46:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 09:46:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 09:46:25 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 09:46:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 09:46:26 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 43572236-4812-467a-b425-d80b45298372

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 09:46:26 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 09:46:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 09:46:26 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 3.354 seconds (process running for 3.538)
2025-11-12 09:56:11 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s998ms).
2025-11-12 10:05:24 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 10:05:24 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 10:05:24 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-12 10:05:24 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 10:05:24 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 10:05:24 [http-nio-8082-exec-1] WARN  c.e.w.service.WalletService - Wallet not found with ID: 4
2025-11-12 10:05:41 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@1dbeb8e2
2025-11-12 10:05:41 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit request - walletId: 2, amount: 10000, description: fine
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 10:05:41 [http-nio-8082-exec-3] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 500.00, Monthly total: 500.00
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 10:05:41 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit successful - walletId: 2, new balance: 11500.50
2025-11-12 10:05:41 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - update wallets set balance=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 10:06:52 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 10:06:52 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 10:06:52 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@1f38eab6
2025-11-12 10:06:52 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit request - walletId: 2, amount: 10000, description: fine
2025-11-12 10:06:52 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 10:06:52 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 10:06:52 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 10:06:52 [http-nio-8082-exec-6] ERROR c.e.w.service.WalletService - Credit operation failed (Validation): CREDIT daily limit exceeded: Attempt 20500.00 > Allowed 20000.00
2025-11-12 10:07:02 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@3e6e85d4
2025-11-12 10:07:02 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Credit request - walletId: 2, amount: 1000, description: fine
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 10:07:02 [http-nio-8082-exec-8] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 10500.00, Monthly total: 10500.00
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 10:07:02 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Credit successful - walletId: 2, new balance: 12500.50
2025-11-12 10:07:02 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 10:25:11 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m29s202ms).
2025-11-12 10:31:06 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m25s246ms).
2025-11-12 10:36:26 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m49s948ms).
2025-11-12 12:00:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:00:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:00:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:00:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:00:31 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Starting WalletServiceApplicationTests using Java 21.0.8 with PID 49119 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:00:31 [Test worker] DEBUG c.e.w.WalletServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:00:31 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:00:31 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:00:31 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2025-11-12 12:00:32 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:00:32 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:00:32 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:00:32 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:00:32 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:00:32 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51c008fd
2025-11-12 12:00:32 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:00:32 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:00:33 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:00:33 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:33 [Test worker] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:00:34 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:00:34 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7ae91e9c-991f-4b65-ae35-4a18c29eda0c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:00:34 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:00:34 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Started WalletServiceApplicationTests in 3.523 seconds (process running for 4.42)
2025-11-12 12:00:35 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:35 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest
2025-11-12 12:00:35 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests]: GetAllTransactionsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:35 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests
2025-11-12 12:00:35 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Starting TransactionControllerTest using Java 21.0.8 with PID 49119 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:00:35 [Test worker] DEBUG c.e.w.c.TransactionControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:00:35 [Test worker] INFO  c.e.w.c.TransactionControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:00:35 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:00:35 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2025-11-12 12:00:35 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:00:35 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:00:35 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:00:35 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-12 12:00:35 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@722479ba
2025-11-12 12:00:35 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-12 12:00:35 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:00:35 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:00:35 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:35 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:00:35 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d7624aaa-63a7-4ce5-b1a0-887b912499e7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:00:35 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-12 12:00:36 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Started TransactionControllerTest in 0.841 seconds (process running for 5.661)
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests]: GetTransactionsByWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests]: TransactionHistoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests
2025-11-12 12:00:36 [Test worker] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest]: WalletControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests]: TransactionSummaryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests
2025-11-12 12:00:36 [Test worker] INFO  c.e.w.c.WalletControllerTest - Starting WalletControllerTest using Java 21.0.8 with PID 49119 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:00:36 [Test worker] DEBUG c.e.w.c.WalletControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:00:36 [Test worker] INFO  c.e.w.c.WalletControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:00:36 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:00:36 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2025-11-12 12:00:36 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:00:36 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:00:36 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:00:36 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-12 12:00:36 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cc05212
2025-11-12 12:00:36 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-12 12:00:36 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:00:36 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:00:36 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:36 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:00:36 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5b5eb6f8-a5af-4a7f-8d63-74439258ba92

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:00:36 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 12:00:36 [Test worker] INFO  c.e.w.c.WalletControllerTest - Started WalletControllerTest in 0.588 seconds (process running for 6.44)
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests]: TotalBalanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransferTests]: TransferTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransferTests
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests]: CreditDebitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests
2025-11-12 12:00:36 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests]: GetWalletsByUserTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:36 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests
2025-11-12 12:00:37 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests]: CreateWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:37 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests
2025-11-12 12:00:37 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests]: GetAllWalletsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:00:37 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0, Monthly total: 0
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=bad-date, end=10-11-2025, page=0, size=5
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=INVALID, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [null]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100, Monthly total: 100
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type INVALID
2025-11-12 12:00:37 [Test worker] ERROR c.e.w.service.TransactionService - Invalid transaction type provided: INVALID
java.lang.IllegalArgumentException: No enum constant com.example.wallet_service.model.Transaction.Type.INVALID
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at com.example.wallet_service.model.Transaction$Type.valueOf(Transaction.java:38)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:86)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidTransactionType(TransactionServiceTest.java:129)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from invalid-date to 10-11-2025 with type CREDIT
2025-11-12 12:00:37 [Test worker] ERROR c.e.w.service.TransactionService - Invalid date format provided: start=invalid-date, end=10-11-2025
java.time.format.DateTimeParseException: Text 'invalid-date' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2010)
	at java.base/java.time.LocalDate.parse(LocalDate.java:435)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:81)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidDateFormat(TransactionServiceTest.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type CREDIT
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Fetching transaction summary for wallet ID: 1
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.WalletService - Transaction summary for wallet 1: [TransactionSummaryDTO[type=CREDIT, totalAmount=500]]
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@501c3ef6
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.WalletService - Total wallets fetched: 1
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found for balance check: 1
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 12:00:37 [Test worker] DEBUG c.e.w.service.WalletService - Current balance for wallet 1 is 500
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 1
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 400
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 200, description: Purchase
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 100, requested 200
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Debit amount 100 exceeds max limit 50
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 0, description: Invalid
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Invalid debit amount: 0
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 10, description: Test
2025-11-12 12:00:37 [Test worker] ERROR c.e.w.service.WalletService - Debit conflict - wallet 1 updated concurrently
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 99, amount: 200, description: Deposit
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 99
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 0, description: Deposit
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Invalid credit amount: 0
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 700
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 12:00:37 [Test worker] WARN  c.e.w.service.WalletService - Credit amount 200 exceeds max limit 100
2025-11-12 12:00:37 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 50, description: Deposit
2025-11-12 12:00:37 [Test worker] ERROR c.e.w.service.WalletService - Credit conflict - wallet 1 updated concurrently
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-12 12:00:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-12 12:00:42 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 49160 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:00:42 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:00:42 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:00:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:00:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2025-11-12 12:00:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:00:43 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:00:43 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:00:43 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:00:43 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 591 ms
2025-11-12 12:00:43 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:00:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:00:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:00:43 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:00:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:00:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:00:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4345fd45
2025-11-12 12:00:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:00:44 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:00:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:00:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:00:44 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:00:45 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:00:45 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2376dcae-fe76-4d36-9fe1-6a26defc8624

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:00:45 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:00:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:00:45 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.773 seconds (process running for 2.935)
2025-11-12 12:01:28 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 12:01:28 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 12:01:28 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-11-12 12:01:28 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 12:01:29 [http-nio-8082-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1054, SQLState: 42S22
2025-11-12 12:01:29 [http-nio-8082-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Unknown column 'blacklisted' in 'field list'
2025-11-12 12:01:29 [http-nio-8082-exec-1] ERROR c.e.w.e.GlobalExceptionHandler - Unhandled exception: 
org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement [Unknown column 'blacklisted' in 'field list'] [insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)]; SQL [insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy135.saveAndFlush(Unknown Source)
	at com.example.wallet_service.controller.WalletController.createWalletForUser(WalletController.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:49)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement [Unknown column 'blacklisted' in 'field list'] [insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:384)
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:305)
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:217)
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:152)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:136)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:89)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:854)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:840)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy127.merge(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy127.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:657)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:665)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 107 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'blacklisted' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1448)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 160 common frames omitted
2025-11-12 12:05:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:05:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:05:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:05:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:05:20 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Starting WalletServiceApplicationTests using Java 21.0.8 with PID 49397 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:05:20 [Test worker] DEBUG c.e.w.WalletServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:05:20 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:05:20 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:05:20 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2025-11-12 12:05:20 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:05:20 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:05:20 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:05:20 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:05:20 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:05:21 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3dd66ff5
2025-11-12 12:05:21 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:05:21 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:05:21 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:05:21 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:21 [Test worker] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:05:22 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:05:22 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6546bd7f-b736-4603-8b14-9440eb134376

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:05:22 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:05:22 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Started WalletServiceApplicationTests in 3.041 seconds (process running for 3.736)
2025-11-12 12:05:23 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:23 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest
2025-11-12 12:05:23 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests]: GetAllTransactionsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:23 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests
2025-11-12 12:05:23 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Starting TransactionControllerTest using Java 21.0.8 with PID 49397 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:05:23 [Test worker] DEBUG c.e.w.c.TransactionControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:05:23 [Test worker] INFO  c.e.w.c.TransactionControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:05:23 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:05:23 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2025-11-12 12:05:23 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:05:23 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:05:23 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:05:23 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-12 12:05:23 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30f139f
2025-11-12 12:05:23 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-12 12:05:23 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:05:23 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:05:23 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:24 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:05:24 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 82617910-6b1c-45c2-80c1-2b98154ae3b4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:05:24 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:05:24 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 12:05:24 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 12:05:24 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-12 12:05:24 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Started TransactionControllerTest in 0.965 seconds (process running for 5.102)
2025-11-12 12:05:24 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests]: GetTransactionsByWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:24 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests
2025-11-12 12:05:24 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests]: TransactionHistoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:24 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests
2025-11-12 12:05:24 [Test worker] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 12:05:24 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest]: WalletControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:24 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest
2025-11-12 12:05:24 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests]: TransactionSummaryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:24 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests
2025-11-12 12:05:24 [Test worker] INFO  c.e.w.c.WalletControllerTest - Starting WalletControllerTest using Java 21.0.8 with PID 49397 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:05:24 [Test worker] DEBUG c.e.w.c.WalletControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:05:24 [Test worker] INFO  c.e.w.c.WalletControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:05:24 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:05:24 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2025-11-12 12:05:24 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:05:24 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:05:24 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:05:24 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-12 12:05:24 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@519565a5
2025-11-12 12:05:24 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-12 12:05:24 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:05:24 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:05:24 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:24 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:05:24 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e7f94a75-8011-4700-8380-70e519b87ced

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:05:24 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.c.WalletControllerTest - Started WalletControllerTest in 0.613 seconds (process running for 5.945)
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests]: TotalBalanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransferTests]: TransferTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransferTests
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests]: CreditDebitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests]: GetWalletsByUserTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests]: CreateWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests
2025-11-12 12:05:25 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests]: GetAllWalletsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:05:25 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0, Monthly total: 0
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=bad-date, end=10-11-2025, page=0, size=5
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=INVALID, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [null]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100, Monthly total: 100
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type INVALID
2025-11-12 12:05:25 [Test worker] ERROR c.e.w.service.TransactionService - Invalid transaction type provided: INVALID
java.lang.IllegalArgumentException: No enum constant com.example.wallet_service.model.Transaction.Type.INVALID
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at com.example.wallet_service.model.Transaction$Type.valueOf(Transaction.java:38)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:86)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidTransactionType(TransactionServiceTest.java:129)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from invalid-date to 10-11-2025 with type CREDIT
2025-11-12 12:05:25 [Test worker] ERROR c.e.w.service.TransactionService - Invalid date format provided: start=invalid-date, end=10-11-2025
java.time.format.DateTimeParseException: Text 'invalid-date' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2010)
	at java.base/java.time.LocalDate.parse(LocalDate.java:435)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:81)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidDateFormat(TransactionServiceTest.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type CREDIT
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Fetching transaction summary for wallet ID: 1
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.WalletService - Transaction summary for wallet 1: [TransactionSummaryDTO[type=CREDIT, totalAmount=500]]
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@826eb85
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.WalletService - Total wallets fetched: 1
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found for balance check: 1
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 12:05:25 [Test worker] DEBUG c.e.w.service.WalletService - Current balance for wallet 1 is 500
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 1
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 400
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 200, description: Purchase
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 100, requested 200
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Debit amount 100 exceeds max limit 50
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 0, description: Invalid
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Invalid debit amount: 0
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 10, description: Test
2025-11-12 12:05:25 [Test worker] ERROR c.e.w.service.WalletService - Debit conflict - wallet 1 updated concurrently
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 99, amount: 200, description: Deposit
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 99
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 0, description: Deposit
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Invalid credit amount: 0
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 700
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 12:05:25 [Test worker] WARN  c.e.w.service.WalletService - Credit amount 200 exceeds max limit 100
2025-11-12 12:05:25 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 50, description: Deposit
2025-11-12 12:05:25 [Test worker] ERROR c.e.w.service.WalletService - Credit conflict - wallet 1 updated concurrently
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-12 12:05:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-12 12:05:30 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 49440 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:05:30 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:05:30 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:05:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:05:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2025-11-12 12:05:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:05:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:05:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:05:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:05:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 577 ms
2025-11-12 12:05:31 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:05:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:05:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:05:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:05:31 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:05:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:05:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ac9b66b
2025-11-12 12:05:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:05:31 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:05:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:05:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:05:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:05:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:05:32 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ed3b39eb-bd68-4bb7-b39d-3e65fc98f951

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:05:32 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:05:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:05:33 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.745 seconds (process running for 2.924)
2025-11-12 12:06:16 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 12:06:16 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 12:06:16 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-12 12:06:16 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 12:06:39 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 12:07:17 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@643259c2
2025-11-12 12:07:17 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 2, amount: 1000, description: fine
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:07:17 [http-nio-8082-exec-4] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 500.00, Monthly total: 500.00
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 12:07:17 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit successful - walletId: 2, new balance: 2500.50
2025-11-12 12:07:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:07:32 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 12:07:32 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:07:32 [http-nio-8082-exec-5] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6b04176d
2025-11-12 12:07:46 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@22495500
2025-11-12 12:07:46 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 4 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:07:46 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 12:07:46 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit successful - walletId: 4, new balance: 51000.00
2025-11-12 12:07:46 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:08:30 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 3
2025-11-12 12:08:30 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:08:30 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@42642e12
2025-11-12 12:08:37 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@338b3d61
2025-11-12 12:08:37 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Debit request - walletId: 5, amount: 1000, description: fine
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 5 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:08:37 [http-nio-8082-exec-8] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 12:08:37 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Debit successful - walletId: 5, new balance: 49000.00
2025-11-12 12:08:37 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:10:40 [http-nio-8082-exec-10] ERROR c.e.w.e.GlobalExceptionHandler - Unhandled exception: 
org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'status' for method parameter type boolean is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValueInternal(RequestParamMethodArgumentResolver.java:220)
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:49)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 12:10:54 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:10:54 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:10:54 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Wallet 5 blacklisted status set to true
2025-11-12 12:11:40 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 12:11:40 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:11:40 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@3e5b81a9
2025-11-12 12:11:40 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 5, amount: 1000, description: fine
2025-11-12 12:11:40 [http-nio-8082-exec-4] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 5: This wallet has been blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: This wallet has been blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:151)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:151)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:49)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 12:12:18 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6a9b06ec
2025-11-12 12:12:18 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 4 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 12:12:18 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 1000.00, Monthly total: 1000.00
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 12:12:18 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit successful - walletId: 4, new balance: 52000.00
2025-11-12 12:12:18 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:14:17 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 12:14:17 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:14:17 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@617430f4
2025-11-12 12:14:17 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Debit request - walletId: 5, amount: 1000, description: fine
2025-11-12 12:14:17 [http-nio-8082-exec-9] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 5: This wallet has been blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: This wallet has been blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.debitWallet(WalletController.java:171)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:49)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 12:14:36 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 12:14:36 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:14:36 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@b9ed3ee
2025-11-12 12:14:36 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 3
2025-11-12 12:14:36 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:14:36 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@315d161b
2025-11-12 12:15:01 [http-nio-8082-exec-2] WARN  c.e.wallet_service.security.JwtUtil - JWT expired: JWT expired at 2025-11-11T13:02:50Z. Current time: 2025-11-12T06:45:01Z, a difference of 63731249 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-12 12:15:01 [http-nio-8082-exec-2] ERROR c.e.wallet_service.security.JwtUtil - Token validation failed: TOKEN_EXPIRED - JWT token has expired
2025-11-12 12:27:57 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:27:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:27:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:27:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:27:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:28:25 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Starting WalletServiceApplicationTests using Java 21.0.8 with PID 50482 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:28:25 [Test worker] DEBUG c.e.w.WalletServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:28:25 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:28:25 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:28:25 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2025-11-12 12:28:25 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:28:25 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:28:25 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:28:26 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:28:26 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:28:26 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3dd591b9
2025-11-12 12:28:26 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:28:26 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:28:26 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:28:26 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:26 [Test worker] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:28:27 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:28:27 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d4125c84-88b5-4010-9419-e5ab2d9dd643

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:28:27 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:28:27 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Started WalletServiceApplicationTests in 2.908 seconds (process running for 3.617)
2025-11-12 12:28:28 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:28 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest
2025-11-12 12:28:28 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests]: GetAllTransactionsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:28 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests
2025-11-12 12:28:28 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Starting TransactionControllerTest using Java 21.0.8 with PID 50482 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:28:28 [Test worker] DEBUG c.e.w.c.TransactionControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:28:28 [Test worker] INFO  c.e.w.c.TransactionControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:28:28 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:28:28 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2025-11-12 12:28:28 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:28:28 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:28:28 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:28:28 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-12 12:28:28 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30822879
2025-11-12 12:28:28 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-12 12:28:28 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:28:28 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:28:28 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:28 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:28:28 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ebec42b9-8ba7-46d0-81f4-04b84a26c92e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:28:28 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 12:28:29 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Started TransactionControllerTest in 0.78 seconds (process running for 4.793)
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests]: GetTransactionsByWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests]: TransactionHistoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests
2025-11-12 12:28:29 [Test worker] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest]: WalletControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests]: TransactionSummaryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests
2025-11-12 12:28:29 [Test worker] INFO  c.e.w.c.WalletControllerTest - Starting WalletControllerTest using Java 21.0.8 with PID 50482 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:28:29 [Test worker] DEBUG c.e.w.c.WalletControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:28:29 [Test worker] INFO  c.e.w.c.WalletControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:28:29 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:28:29 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2025-11-12 12:28:29 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:28:29 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:28:29 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:28:29 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-12 12:28:29 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@476fb241
2025-11-12 12:28:29 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-12 12:28:29 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:28:29 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:28:29 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:29 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:28:29 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f074feda-952f-4321-8ce1-4a0c31134799

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:28:29 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 12:28:29 [Test worker] INFO  c.e.w.c.WalletControllerTest - Started WalletControllerTest in 0.569 seconds (process running for 5.561)
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests]: TotalBalanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransferTests]: TransferTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransferTests
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests]: CreditDebitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests]: GetWalletsByUserTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests
2025-11-12 12:28:29 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests]: CreateWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:29 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests
2025-11-12 12:28:30 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests]: GetAllWalletsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 12:28:30 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0, Monthly total: 0
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=bad-date, end=10-11-2025, page=0, size=5
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=INVALID, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [null]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100, Monthly total: 100
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type INVALID
2025-11-12 12:28:30 [Test worker] ERROR c.e.w.service.TransactionService - Invalid transaction type provided: INVALID
java.lang.IllegalArgumentException: No enum constant com.example.wallet_service.model.Transaction.Type.INVALID
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at com.example.wallet_service.model.Transaction$Type.valueOf(Transaction.java:38)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:86)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidTransactionType(TransactionServiceTest.java:129)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from invalid-date to 10-11-2025 with type CREDIT
2025-11-12 12:28:30 [Test worker] ERROR c.e.w.service.TransactionService - Invalid date format provided: start=invalid-date, end=10-11-2025
java.time.format.DateTimeParseException: Text 'invalid-date' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2010)
	at java.base/java.time.LocalDate.parse(LocalDate.java:435)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:81)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidDateFormat(TransactionServiceTest.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type CREDIT
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Fetching transaction summary for wallet ID: 1
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.WalletService - Transaction summary for wallet 1: [TransactionSummaryDTO[type=CREDIT, totalAmount=500]]
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6ace857d
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.WalletService - Total wallets fetched: 1
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found for balance check: 1
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 12:28:30 [Test worker] DEBUG c.e.w.service.WalletService - Current balance for wallet 1 is 500
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 1
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 400
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 200, description: Purchase
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 100, requested 200
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Debit amount 100 exceeds max limit 50
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 0, description: Invalid
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Invalid debit amount: 0
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 10, description: Test
2025-11-12 12:28:30 [Test worker] ERROR c.e.w.service.WalletService - Debit conflict - wallet 1 updated concurrently
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 99, amount: 200, description: Deposit
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 99
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 0, description: Deposit
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Invalid credit amount: 0
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 700
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 12:28:30 [Test worker] WARN  c.e.w.service.WalletService - Credit amount 200 exceeds max limit 100
2025-11-12 12:28:30 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 50, description: Deposit
2025-11-12 12:28:30 [Test worker] ERROR c.e.w.service.WalletService - Credit conflict - wallet 1 updated concurrently
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-12 12:28:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-12 12:28:35 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 50513 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:28:35 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:28:35 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:28:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:28:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2025-11-12 12:28:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:28:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:28:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:28:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:28:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 574 ms
2025-11-12 12:28:35 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:28:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:28:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:28:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:28:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:28:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:28:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e706aa
2025-11-12 12:28:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:28:36 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:28:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:28:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:28:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:28:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:28:37 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5278b32d-3ede-44b8-af68-90e687fe7855

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:28:37 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:28:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:28:37 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.704 seconds (process running for 2.893)
2025-11-12 12:30:15 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 12:30:15 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 12:30:15 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 13 ms
2025-11-12 12:30:59 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:30:59 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:30:59 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to true
2025-11-12 12:31:11 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 12:31:11 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 12:31:11 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to false
2025-11-12 12:37:00 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:37:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:37:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:37:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:37:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:37:26 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 51056 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:37:26 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:37:26 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:37:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:37:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2025-11-12 12:37:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:37:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:37:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:37:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:37:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 618 ms
2025-11-12 12:37:27 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:37:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:37:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:37:27 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:37:27 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:37:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:37:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43ab0659
2025-11-12 12:37:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:37:27 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:37:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:37:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:37:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:37:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:37:28 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: fd2a6d1b-33ca-4b20-8894-95c04545aa14

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:37:28 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:37:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:37:29 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 3.174 seconds (process running for 3.352)
2025-11-12 12:39:39 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 12:39:39 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 12:39:39 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-12 12:39:39 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 12:39:43 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 12:51:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:51:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:51:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:51:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:51:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:51:53 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 51919 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:51:53 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:51:53 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:51:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:51:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2025-11-12 12:51:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:51:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:51:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:51:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:51:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 604 ms
2025-11-12 12:51:54 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:51:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:51:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:51:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:51:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:51:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:51:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ac9b66b
2025-11-12 12:51:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:51:54 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:51:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:51:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:51:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:51:55 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:51:55 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6666ecf3-87e3-4a1f-9c67-8355bb60169e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:51:55 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:51:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:51:56 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.756 seconds (process running for 2.952)
2025-11-12 12:53:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:53:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:53:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:53:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:53:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:53:45 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 52067 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:53:45 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:53:45 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:53:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:53:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2025-11-12 12:53:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:53:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:53:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:53:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:53:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 637 ms
2025-11-12 12:53:46 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:53:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:53:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:53:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:53:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:53:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:53:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ac9b66b
2025-11-12 12:53:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:53:46 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:53:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:53:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:53:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:53:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:53:47 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1ea7fa76-0d8d-48bd-912a-3dfe32aa8ba4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:53:47 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:53:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:53:48 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.8 seconds (process running for 3.005)
2025-11-12 12:56:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 12:56:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 12:56:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:56:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 12:56:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 12:57:44 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 52252 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 12:57:44 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 12:57:44 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:57:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:57:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2025-11-12 12:57:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 12:57:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:57:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 12:57:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:57:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 656 ms
2025-11-12 12:57:45 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 12:57:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:57:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 12:57:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:57:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:57:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 12:57:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4345fd45
2025-11-12 12:57:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 12:57:46 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:57:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:57:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:57:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:57:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 12:57:47 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2a7f74fa-fa6d-40d7-a5b5-bcbb9d7155b5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 12:57:47 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:57:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 12:57:47 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 3.032 seconds (process running for 3.253)
2025-11-12 12:58:41 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 12:58:41 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 12:58:41 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-12 12:58:41 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 12:59:58 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 13:09:12 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m26s671ms).
2025-11-12 13:21:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 13:21:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 13:21:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 13:21:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 13:21:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 14:41:10 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 54927 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 14:41:10 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 14:41:10 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 14:41:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 14:41:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2025-11-12 14:41:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 14:41:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 14:41:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 14:41:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 14:41:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 747 ms
2025-11-12 14:41:11 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 14:41:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 14:41:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 14:41:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 14:41:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 14:41:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 14:41:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35ceec81
2025-11-12 14:41:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 14:41:12 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 14:41:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 14:41:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 14:41:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 14:41:13 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 14:41:13 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f342634c-95c8-44fd-8e95-2399d4483acd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 14:41:13 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 14:41:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 14:41:14 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 4.09 seconds (process running for 4.293)
2025-11-12 14:41:20 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 14:41:20 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 14:41:20 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-12 14:49:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:49:17 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to false
2025-11-12 14:51:10 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:51:10 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 14:51:11 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to true
2025-11-12 14:51:24 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 14:51:24 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:51:24 [http-nio-8082-exec-9] WARN  c.e.w.service.WalletService - Wallet not found with ID: 5
2025-11-12 14:51:24 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:51:24 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:51:24 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@491800e5
2025-11-12 14:51:46 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 14:51:46 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:51:46 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@7b1beff3
2025-11-12 14:51:46 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:51:46 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:51:46 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@41bff990
2025-11-12 14:52:13 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:52:13 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:52:13 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@d5d364d
2025-11-12 14:52:13 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 1000, description: fine
2025-11-12 14:52:13 [http-nio-8082-exec-1] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 1: This wallet has been blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: This wallet has been blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.debitWallet(WalletController.java:180)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 14:52:33 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:52:33 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:52:33 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@726a25aa
2025-11-12 14:52:33 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 1000, description: fine
2025-11-12 14:52:33 [http-nio-8082-exec-3] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 1: This wallet has been blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: This wallet has been blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:151)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:160)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 14:53:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:53:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 14:53:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to false
2025-11-12 14:53:34 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 14:53:34 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:53:34 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@2e6f6839
2025-11-12 14:53:34 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:53:34 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:53:35 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@5d328ccc
2025-11-12 14:54:02 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:54:02 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:54:02 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@305e643c
2025-11-12 14:54:02 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 1000, description: fine
2025-11-12 14:54:02 [http-nio-8082-exec-7] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 500.00, requested 1000
2025-11-12 14:54:11 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@7543fcbc
2025-11-12 14:54:11 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 1000, description: fine
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 14:54:11 [http-nio-8082-exec-9] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 100.00
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 14:54:11 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 1500.00
2025-11-12 14:54:11 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 14:54:44 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@65851f88
2025-11-12 14:54:44 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 1000, description: fine
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 14:54:44 [http-nio-8082-exec-10] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 50.00
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 14:54:44 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 500.00
2025-11-12 14:54:44 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 14:54:55 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 14:54:55 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:54:55 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@11f7d27a
2025-11-12 14:54:55 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 14:54:55 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 14:54:55 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@2c92a602
2025-11-12 15:27:50 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 15:27:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 15:27:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:27:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 15:27:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 15:28:01 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Starting WalletServiceApplicationTests using Java 21.0.8 with PID 57153 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 15:28:01 [Test worker] DEBUG c.e.w.WalletServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 15:28:01 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-12 15:28:01 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 15:28:01 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2025-11-12 15:28:02 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 15:28:02 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 15:28:02 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 15:28:02 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 15:28:02 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 15:28:02 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@713e49c3
2025-11-12 15:28:02 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 15:28:02 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 15:28:02 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 15:28:02 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:03 [Test worker] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 15:28:03 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 15:28:03 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c893ff5e-d3d0-49e9-b42a-30da4aa679b4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 15:28:03 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 15:28:04 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Started WalletServiceApplicationTests in 2.994 seconds (process running for 3.693)
2025-11-12 15:28:04 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:04 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest
2025-11-12 15:28:04 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests]: GetAllTransactionsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:04 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests
2025-11-12 15:28:04 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Starting TransactionControllerTest using Java 21.0.8 with PID 57153 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 15:28:04 [Test worker] DEBUG c.e.w.c.TransactionControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 15:28:04 [Test worker] INFO  c.e.w.c.TransactionControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 15:28:04 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 15:28:04 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2025-11-12 15:28:05 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 15:28:05 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 15:28:05 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 15:28:05 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-12 15:28:05 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@399c0608
2025-11-12 15:28:05 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-12 15:28:05 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 15:28:05 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 15:28:05 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:05 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 15:28:05 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e60b6080-563e-4cc7-88d7-06f61faffdd8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 15:28:05 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 15:28:05 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 15:28:05 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 15:28:05 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-12 15:28:05 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Started TransactionControllerTest in 0.744 seconds (process running for 4.813)
2025-11-12 15:28:05 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests]: GetTransactionsByWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:05 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests
2025-11-12 15:28:05 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests]: TransactionHistoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:05 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests
2025-11-12 15:28:05 [Test worker] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 15:28:05 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest]: WalletControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:05 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest
2025-11-12 15:28:05 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests]: TransactionSummaryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:05 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests
2025-11-12 15:28:05 [Test worker] INFO  c.e.w.c.WalletControllerTest - Starting WalletControllerTest using Java 21.0.8 with PID 57153 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 15:28:05 [Test worker] DEBUG c.e.w.c.WalletControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 15:28:05 [Test worker] INFO  c.e.w.c.WalletControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 15:28:05 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 15:28:05 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2025-11-12 15:28:05 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 15:28:05 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 15:28:05 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 15:28:05 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-12 15:28:05 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@48adcadf
2025-11-12 15:28:05 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-12 15:28:05 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 15:28:05 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 15:28:05 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:05 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 15:28:05 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: dda6f741-6b41-4aef-9926-2fc2e1b05bff

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 15:28:05 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.c.WalletControllerTest - Started WalletControllerTest in 0.523 seconds (process running for 5.515)
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests]: TotalBalanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransferTests]: TransferTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransferTests
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests]: CreditDebitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests]: GetWalletsByUserTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests]: CreateWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests
2025-11-12 15:28:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests]: GetAllWalletsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 15:28:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0, Monthly total: 0
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=bad-date, end=10-11-2025, page=0, size=5
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=INVALID, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [null]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100, Monthly total: 100
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type INVALID
2025-11-12 15:28:06 [Test worker] ERROR c.e.w.service.TransactionService - Invalid transaction type provided: INVALID
java.lang.IllegalArgumentException: No enum constant com.example.wallet_service.model.Transaction.Type.INVALID
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at com.example.wallet_service.model.Transaction$Type.valueOf(Transaction.java:38)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:86)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidTransactionType(TransactionServiceTest.java:129)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from invalid-date to 10-11-2025 with type CREDIT
2025-11-12 15:28:06 [Test worker] ERROR c.e.w.service.TransactionService - Invalid date format provided: start=invalid-date, end=10-11-2025
java.time.format.DateTimeParseException: Text 'invalid-date' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2010)
	at java.base/java.time.LocalDate.parse(LocalDate.java:435)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:81)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidDateFormat(TransactionServiceTest.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type CREDIT
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Fetching transaction summary for wallet ID: 1
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.WalletService - Transaction summary for wallet 1: [TransactionSummaryDTO[type=CREDIT, totalAmount=500]]
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@13bf8a36
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.WalletService - Total wallets fetched: 1
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found for balance check: 1
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 15:28:06 [Test worker] DEBUG c.e.w.service.WalletService - Current balance for wallet 1 is 500
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 1
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 400
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 200, description: Purchase
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 100, requested 200
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Debit amount 100 exceeds max limit 50
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 0, description: Invalid
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Invalid debit amount: 0
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 10, description: Test
2025-11-12 15:28:06 [Test worker] ERROR c.e.w.service.WalletService - Debit conflict - wallet 1 updated concurrently
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 99, amount: 200, description: Deposit
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 99
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 0, description: Deposit
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Invalid credit amount: 0
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 700
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 15:28:06 [Test worker] WARN  c.e.w.service.WalletService - Credit amount 200 exceeds max limit 100
2025-11-12 15:28:06 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 50, description: Deposit
2025-11-12 15:28:06 [Test worker] ERROR c.e.w.service.WalletService - Credit conflict - wallet 1 updated concurrently
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-12 15:28:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-12 15:28:14 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 57188 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 15:28:14 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 15:28:14 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 15:28:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 15:28:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2025-11-12 15:28:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 15:28:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 15:28:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 15:28:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 15:28:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 583 ms
2025-11-12 15:28:14 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 15:28:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 15:28:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 15:28:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 15:28:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 15:28:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 15:28:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@71262020
2025-11-12 15:28:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 15:28:15 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 15:28:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 15:28:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:28:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 15:28:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 15:28:16 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a8fb25b1-c765-4409-9d52-11285c5f42e7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 15:28:16 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 15:28:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 15:28:16 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.782 seconds (process running for 2.978)
2025-11-12 15:28:46 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 15:28:46 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 15:28:46 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-11-12 15:28:46 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 4
2025-11-12 15:28:46 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 15:28:46 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Fetched 0 wallet balances for user 4
2025-11-12 15:30:23 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:30:24 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to false
2025-11-12 15:30:35 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:30:35 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:30:35 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@155e0ca8
2025-11-12 15:30:35 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:30:35 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:30:35 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@70ebb625
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@16aaceeb
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6f6f036f
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 1000, description: fine
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 500.50
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 1000, description: fine
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 100.00
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:30:45 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 1500.00
2025-11-12 15:30:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:31:02 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@394c95ec
2025-11-12 15:31:03 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 1000, description: fine
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:03 [http-nio-8082-exec-9] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 1000.00, Monthly total: 1100.00
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:31:03 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 2500.00
2025-11-12 15:31:03 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:31:11 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@3e3cec2
2025-11-12 15:31:11 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 1000, description: fine
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:11 [http-nio-8082-exec-10] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 50.00
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:31:11 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 1500.00
2025-11-12 15:31:11 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:31:23 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@428796e3
2025-11-12 15:31:23 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 1000, description: fine
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:23 [http-nio-8082-exec-2] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 1000.00, Monthly total: 1050.00
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:31:23 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 500.00
2025-11-12 15:31:23 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:31:50 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@35addcc1
2025-11-12 15:31:50 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 1000, description: fine
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:31:50 [http-nio-8082-exec-1] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 2000.00, Monthly total: 2100.00
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:31:50 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 1500.00
2025-11-12 15:31:50 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:32:54 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 15:33:32 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:33:32 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:33:32 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@95ba287
2025-11-12 15:34:00 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:34:00 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:34:00 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@4fee3a42
2025-11-12 15:34:00 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:34:00 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:34:00 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@5d73085a
2025-11-12 15:35:11 [http-nio-8082-exec-3] WARN  c.e.wallet_service.security.JwtUtil - JWT expired: JWT expired at 2025-11-11T13:02:50Z. Current time: 2025-11-12T10:05:11Z, a difference of 75741584 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-12 15:35:11 [http-nio-8082-exec-3] ERROR c.e.wallet_service.security.JwtUtil - Token validation failed: TOKEN_EXPIRED - JWT token has expired
2025-11-12 15:35:17 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 4
2025-11-12 15:35:17 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 15:35:17 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Fetched 1 wallet balances for user 4
2025-11-12 15:36:45 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 15:36:55 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 15:37:05 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 1
2025-11-12 15:37:05 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 15:37:05 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Fetched 1 wallet balances for user 1
2025-11-12 15:37:19 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@663e2d6
2025-11-12 15:37:19 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 4 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:37:19 [http-nio-8082-exec-2] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:37:19 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Credit successful - walletId: 4, new balance: 51000.00
2025-11-12 15:37:19 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:37:37 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@30d23fff
2025-11-12 15:37:37 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Debit request - walletId: 5, amount: 1000, description: fine
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 5 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:37:37 [http-nio-8082-exec-1] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:37:37 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Debit successful - walletId: 5, new balance: 49000.00
2025-11-12 15:37:37 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:37:49 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:37:49 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:37:49 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@518114ce
2025-11-12 15:37:49 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:37:49 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:37:49 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@533c4819
2025-11-12 15:37:55 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:37:55 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:37:55 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@21195f92
2025-11-12 15:37:55 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:37:55 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:37:55 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@701a97f9
2025-11-12 15:37:55 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 1000, description: fine
2025-11-12 15:37:55 [http-nio-8082-exec-4] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 2: available 500.50, requested 1000
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@5b80973e
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@623d44c7
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 100, description: fine
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 1000.00, Monthly total: 1000.00
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 400.50
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 100, description: fine
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 3000.00, Monthly total: 3100.00
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:38:06 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 1600.00
2025-11-12 15:38:06 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:38:11 [http-nio-8082-exec-7] WARN  c.e.wallet_service.security.JwtUtil - JWT expired: JWT expired at 2025-11-11T13:02:50Z. Current time: 2025-11-12T10:08:11Z, a difference of 75921104 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-12 15:38:11 [http-nio-8082-exec-7] ERROR c.e.wallet_service.security.JwtUtil - Token validation failed: TOKEN_EXPIRED - JWT token has expired
2025-11-12 15:38:17 [http-nio-8082-exec-8] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 15:38:17 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0
2025-11-12 15:38:33 [http-nio-8082-exec-9] INFO  c.e.w.service.TransactionService - Fetching transactions for user 4 from 01-10-2025 to 10-11-2025 with type null
2025-11-12 15:38:33 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0 join wallets w1_0 on w1_0.id=t1_0.wallet_id where w1_0.user_id=? and t1_0.timestamp between ? and ? and (? is null or t1_0.type=?) order by t1_0.timestamp desc
2025-11-12 15:38:41 [http-nio-8082-exec-10] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-10-2025 to 10-11-2025 with type null
2025-11-12 15:38:41 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0 join wallets w1_0 on w1_0.id=t1_0.wallet_id where w1_0.user_id=? and t1_0.timestamp between ? and ? and (? is null or t1_0.type=?) order by t1_0.timestamp desc
2025-11-12 15:38:55 [http-nio-8082-exec-2] INFO  c.e.w.service.TransactionService - Fetching transactions for user 2 from 01-10-2025 to 13-11-2025 with type null
2025-11-12 15:38:55 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0 join wallets w1_0 on w1_0.id=t1_0.wallet_id where w1_0.user_id=? and t1_0.timestamp between ? and ? and (? is null or t1_0.type=?) order by t1_0.timestamp desc
2025-11-12 15:39:18 [http-nio-8082-exec-1] WARN  c.e.wallet_service.security.JwtUtil - JWT expired: JWT expired at 2025-11-07T11:38:26Z. Current time: 2025-11-12T10:09:18Z, a difference of 426652871 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-12 15:39:18 [http-nio-8082-exec-1] ERROR c.e.wallet_service.security.JwtUtil - Token validation failed: TOKEN_EXPIRED - JWT token has expired
2025-11-12 15:39:25 [http-nio-8082-exec-3] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=4, walletId=4, type=null, start=01-10-2025, end=06-11-2025, page=2, size=1
2025-11-12 15:39:25 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0 join wallets w1_0 on w1_0.id=t1_0.wallet_id where (? is null or w1_0.id=?) and (? is null or w1_0.user_id=?) and (? is null or t1_0.type=?) and (? is null or t1_0.timestamp>=?) and (? is null or t1_0.timestamp<=?) order by t1_0.timestamp desc limit ?,?
2025-11-12 15:39:25 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select count(t1_0.id) from transactions t1_0 join wallets w1_0 on w1_0.id=t1_0.wallet_id where (? is null or w1_0.id=?) and (? is null or w1_0.user_id=?) and (? is null or t1_0.type=?) and (? is null or t1_0.timestamp>=?) and (? is null or t1_0.timestamp<=?)
2025-11-12 15:39:25 [http-nio-8082-exec-3] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 15:39:42 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Calculating total balance for user ID: 5
2025-11-12 15:39:42 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select sum(w1_0.balance) from wallets w1_0 where w1_0.user_id=?
2025-11-12 15:39:42 [http-nio-8082-exec-5] WARN  c.e.w.service.WalletService - Total balance is null for user 5, setting to ZERO
2025-11-12 15:39:42 [http-nio-8082-exec-5] DEBUG c.e.w.service.WalletService - Total balance for user 5 is 0
2025-11-12 15:40:38 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 4
2025-11-12 15:40:38 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 15:40:38 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Fetched 2 wallet balances for user 4
2025-11-12 15:41:06 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:41:06 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to false
2025-11-12 15:41:19 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:41:19 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:41:19 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Wallet 1 blacklisted status set to true
2025-11-12 15:41:28 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:41:28 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:41:28 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6e4ef403
2025-11-12 15:41:28 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:41:28 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:41:28 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@67feaea9
2025-11-12 15:45:34 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 15:45:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 15:45:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:45:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 15:45:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 15:46:00 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 58138 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 15:46:00 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 15:46:00 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 15:46:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 15:46:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2025-11-12 15:46:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 15:46:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 15:46:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 15:46:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 15:46:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 593 ms
2025-11-12 15:46:01 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 15:46:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 15:46:01 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 15:46:01 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 15:46:01 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 15:46:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 15:46:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d13379e
2025-11-12 15:46:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 15:46:01 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 15:46:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 15:46:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:46:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 15:46:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 15:46:02 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1fdacf31-5396-44fb-b420-10b84e04013c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 15:46:02 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 15:46:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 15:46:03 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.874 seconds (process running for 3.056)
2025-11-12 15:54:50 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 15:54:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 15:54:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:54:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 15:54:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 15:54:56 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 58633 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 15:54:56 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 15:54:56 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 15:54:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 15:54:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2025-11-12 15:54:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 15:54:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 15:54:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 15:54:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 15:54:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 618 ms
2025-11-12 15:54:57 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 15:54:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 15:54:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 15:54:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 15:54:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 15:54:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 15:54:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d13379e
2025-11-12 15:54:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 15:54:57 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 15:54:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 15:54:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 15:54:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 15:54:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 15:54:58 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 12d31865-122e-48e0-9187-b2560b87f53d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 15:54:58 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 15:54:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 15:54:58 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.751 seconds (process running for 2.945)
2025-11-12 15:55:50 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 15:55:50 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 15:55:50 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-11-12 15:55:50 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 15:56:05 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 1
2025-11-12 15:56:05 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 15:56:05 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Fetched 1 wallet balances for user 1
2025-11-12 15:56:16 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@1a98ba71
2025-11-12 15:56:16 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 4 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:56:16 [http-nio-8082-exec-4] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:56:16 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit successful - walletId: 4, new balance: 51000.00
2025-11-12 15:56:16 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:56:25 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 15:56:25 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:56:25 [http-nio-8082-exec-5] WARN  c.e.w.service.WalletService - Wallet not found with ID: 5
2025-11-12 15:56:35 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:56:35 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:56:35 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@17343df9
2025-11-12 15:56:35 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 1000, description: fine
2025-11-12 15:56:35 [http-nio-8082-exec-6] WARN  c.e.w.service.WalletService - Insufficient balance in wallet 1: available 500.00, requested 1000
2025-11-12 15:56:46 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@2d925341
2025-11-12 15:56:46 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 1000, description: fine
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:56:46 [http-nio-8082-exec-7] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:56:46 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 500.50
2025-11-12 15:56:46 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@23acad4e
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@4e819bd1
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 100, description: fine
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 1000.00, Monthly total: 1000.00
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 400.50
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 100, description: fine
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 100.00
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:57:05 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 600.00
2025-11-12 15:57:05 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@7a560ff8
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@1ede8952
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 100, description: fine
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 1100.00, Monthly total: 1100.00
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 300.50
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 100, description: fine
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100.00, Monthly total: 200.00
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:57:15 [http-nio-8082-exec-10] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 700.00
2025-11-12 15:57:15 [http-nio-8082-exec-10] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:57:19 [http-nio-8082-exec-1] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 15:57:19 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@19159b65
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@1ea5500e
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 100, description: fine
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 1200.00, Monthly total: 1200.00
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 200.50
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 100, description: fine
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 200.00, Monthly total: 300.00
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 15:58:27 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 800.00
2025-11-12 15:58:27 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 16:00:01 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 16:00:07 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 1
2025-11-12 16:00:07 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 16:00:07 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Fetched 1 wallet balances for user 1
2025-11-12 16:00:27 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet balances for user ID: 4
2025-11-12 16:00:27 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.wallet_name,w1_0.balance from wallets w1_0 where w1_0.user_id=?
2025-11-12 16:00:27 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Fetched 1 wallet balances for user 4
2025-11-12 16:00:38 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@28e803d8
2025-11-12 16:00:38 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 4 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:00:38 [http-nio-8082-exec-2] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 1000.00, Monthly total: 1000.00
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 16:00:38 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Credit successful - walletId: 4, new balance: 52000.00
2025-11-12 16:00:38 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 16:00:53 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 16:00:53 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:00:53 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@62538ed2
2025-11-12 16:01:00 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@38d91e95
2025-11-12 16:01:00 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 5, amount: 1000, description: fine
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 5 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:00 [http-nio-8082-exec-4] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 16:01:00 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit successful - walletId: 5, new balance: 51000.00
2025-11-12 16:01:00 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 16:01:10 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 16:01:10 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:10 [http-nio-8082-exec-5] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@21f64176
2025-11-12 16:01:23 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@ade31d0
2025-11-12 16:01:23 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Debit request - walletId: 5, amount: 1000, description: fine
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 5 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:23 [http-nio-8082-exec-8] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 16:01:23 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Debit successful - walletId: 5, new balance: 50000.00
2025-11-12 16:01:23 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@73030da7
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@11d0b4fb
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 100, description: fine
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 1300.00, Monthly total: 1300.00
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 100.50
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 100, description: fine
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 300.00, Monthly total: 400.00
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 16:01:28 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Credit successful - walletId: 1, new balance: 900.00
2025-11-12 16:01:28 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 16:01:39 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 16:01:39 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:39 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@687c3bc0
2025-11-12 16:01:39 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 16:01:39 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 16:01:39 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@647245d6
2025-11-12 16:02:32 [http-nio-8082-exec-3] INFO  c.e.w.service.TransactionService - Fetching transactions for user 4 from 01-10-2025 to 13-11-2025 with type null
2025-11-12 16:02:32 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.amount,t1_0.description,t1_0.timestamp,t1_0.type,t1_0.wallet_id from transactions t1_0 join wallets w1_0 on w1_0.id=t1_0.wallet_id where w1_0.user_id=? and t1_0.timestamp between ? and ? and (? is null or t1_0.type=?) order by t1_0.timestamp desc
2025-11-12 16:02:37 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Calculating total balance for user ID: 5
2025-11-12 16:02:37 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select sum(w1_0.balance) from wallets w1_0 where w1_0.user_id=?
2025-11-12 16:02:37 [http-nio-8082-exec-4] WARN  c.e.w.service.WalletService - Total balance is null for user 5, setting to ZERO
2025-11-12 16:02:37 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Total balance for user 5 is 0
2025-11-12 16:31:34 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m36s285ms).
2025-11-12 16:50:57 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m23s404ms).
2025-11-12 17:27:05 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=36m7s925ms).
2025-11-12 17:30:42 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 17:30:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 17:30:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:30:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 17:30:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 17:31:01 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Starting WalletServiceApplicationTests using Java 21.0.8 with PID 60274 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 17:31:01 [Test worker] DEBUG c.e.w.WalletServiceApplicationTests - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 17:31:01 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-12 17:31:01 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 17:31:01 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2025-11-12 17:31:02 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 17:31:02 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 17:31:02 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 17:31:02 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 17:31:02 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 17:31:02 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d3f8661
2025-11-12 17:31:02 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 17:31:03 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 17:31:03 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 17:31:03 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:03 [Test worker] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 17:31:04 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 17:31:04 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: fc2e980d-ffd7-4324-80c9-a7798c0f403f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 17:31:04 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 17:31:04 [Test worker] INFO  c.e.w.WalletServiceApplicationTests - Started WalletServiceApplicationTests in 3.743 seconds (process running for 4.534)
2025-11-12 17:31:05 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest]: TransactionControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:05 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest
2025-11-12 17:31:05 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests]: GetAllTransactionsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:05 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetAllTransactionsTests
2025-11-12 17:31:05 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Starting TransactionControllerTest using Java 21.0.8 with PID 60274 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 17:31:05 [Test worker] DEBUG c.e.w.c.TransactionControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 17:31:05 [Test worker] INFO  c.e.w.c.TransactionControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 17:31:05 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 17:31:05 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2025-11-12 17:31:05 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 17:31:05 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 17:31:05 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 17:31:05 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-12 17:31:05 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ce29762
2025-11-12 17:31:05 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-12 17:31:05 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 17:31:05 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 17:31:05 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:05 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 17:31:05 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 04425f60-6f15-4dcc-ab35-0e590efe32cd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 17:31:05 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-12 17:31:06 [Test worker] INFO  c.e.w.c.TransactionControllerTest - Started TransactionControllerTest in 0.853 seconds (process running for 5.8)
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests]: GetTransactionsByWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$GetTransactionsByWalletTests
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests]: TransactionHistoryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.TransactionControllerTest$TransactionHistoryTests
2025-11-12 17:31:06 [Test worker] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest]: WalletControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests]: TransactionSummaryTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransactionSummaryTests
2025-11-12 17:31:06 [Test worker] INFO  c.e.w.c.WalletControllerTest - Starting WalletControllerTest using Java 21.0.8 with PID 60274 (started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 17:31:06 [Test worker] DEBUG c.e.w.c.WalletControllerTest - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 17:31:06 [Test worker] INFO  c.e.w.c.WalletControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-11-12 17:31:06 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 17:31:06 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2025-11-12 17:31:06 [Test worker] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 17:31:06 [Test worker] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 17:31:06 [Test worker] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 17:31:06 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-12 17:31:06 [Test worker] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@64ed174
2025-11-12 17:31:06 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-12 17:31:06 [Test worker] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 17:31:06 [Test worker] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 17:31:06 [Test worker] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:06 [Test worker] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 17:31:06 [Test worker] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 20043b6a-cfc0-4eeb-9b2a-f2f24710191a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 17:31:06 [Test worker] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-12 17:31:06 [Test worker] INFO  c.e.w.c.WalletControllerTest - Started WalletControllerTest in 0.525 seconds (process running for 6.519)
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests]: TotalBalanceTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TotalBalanceTests
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$TransferTests]: TransferTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$TransferTests
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests]: CreditDebitTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreditDebitTests
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests]: GetWalletsByUserTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetWalletsByUserTests
2025-11-12 17:31:06 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests]: CreateWalletTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:06 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$CreateWalletTests
2025-11-12 17:31:07 [Test worker] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests]: GetAllWalletsTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-12 17:31:07 [Test worker] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.wallet_service.WalletServiceApplication for test class com.example.wallet_service.controller.WalletControllerTest$GetAllWalletsTests
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0, Monthly total: 0
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for wallet ID 1
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=CREDIT, start=bad-date, end=10-11-2025, page=0, size=5
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching all transactions
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transaction history: userId=1, walletId=1, type=INVALID, start=01-11-2025, end=10-11-2025, page=0, size=5
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [null]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 100, Monthly total: 100
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type INVALID
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.TransactionService - Invalid transaction type provided: INVALID
java.lang.IllegalArgumentException: No enum constant com.example.wallet_service.model.Transaction.Type.INVALID
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at com.example.wallet_service.model.Transaction$Type.valueOf(Transaction.java:38)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:86)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidTransactionType(TransactionServiceTest.java:129)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from invalid-date to 10-11-2025 with type CREDIT
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.TransactionService - Invalid date format provided: start=invalid-date, end=10-11-2025
java.time.format.DateTimeParseException: Text 'invalid-date' could not be parsed at index 0
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2010)
	at java.base/java.time.LocalDate.parse(LocalDate.java:435)
	at com.example.wallet_service.service.TransactionService.getUserTransactions(TransactionService.java:81)
	at com.example.wallet_service.service.TransactionServiceTest$UserTransactionTests.shouldReturnErrorForInvalidDateFormat(TransactionServiceTest.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.TransactionService - Fetching transactions for user 1 from 01-11-2025 to 10-11-2025 with type CREDIT
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Fetching transaction summary for wallet ID: 1
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.WalletService - Transaction summary for wallet 1: [TransactionSummaryDTO[type=CREDIT, totalAmount=500]]
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@5d1f9d8b
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.WalletService - Total wallets fetched: 1
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 17:31:07 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found for balance check: 1
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Fetching balance for wallet ID: 1
2025-11-12 17:31:07 [Test worker] DEBUG c.e.w.service.WalletService - Current balance for wallet 1 is 500
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 17:31:07 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 1
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:238)
	at com.example.wallet_service.service.WalletServiceTest$DebitTests.shouldDebitWalletSuccessfully(WalletServiceTest.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 200, description: Purchase
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:238)
	at com.example.wallet_service.service.WalletServiceTest$DebitTests.shouldFailForInsufficientFunds(WalletServiceTest.java:175)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: Purchase
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:238)
	at com.example.wallet_service.service.WalletServiceTest$DebitTests.shouldFailIfExceedsDebitLimit(WalletServiceTest.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 0, description: Invalid
2025-11-12 17:31:07 [Test worker] WARN  c.e.w.service.WalletService - Invalid debit amount: 0
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 10, description: Test
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:238)
	at com.example.wallet_service.service.WalletServiceTest$DebitTests.shouldHandleOptimisticLockExceptionOnDebit(WalletServiceTest.java:186)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 99, amount: 200, description: Deposit
2025-11-12 17:31:07 [Test worker] WARN  c.e.w.service.WalletService - Wallet not found: 99
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 0, description: Deposit
2025-11-12 17:31:07 [Test worker] WARN  c.e.w.service.WalletService - Invalid credit amount: 0
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:162)
	at com.example.wallet_service.service.WalletServiceTest$CreditTests.shouldCreditWalletSuccessfully(WalletServiceTest.java:75)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 200, description: Deposit
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:162)
	at com.example.wallet_service.service.WalletServiceTest$CreditTests.shouldFailIfExceedsCreditLimit(WalletServiceTest.java:106)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [Test worker] INFO  c.e.w.service.WalletService - Credit request - walletId: 1, amount: 50, description: Deposit
2025-11-12 17:31:07 [Test worker] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 1: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
java.lang.NullPointerException: Cannot invoke "com.example.wallet_service.client.UserClient.getUserById(java.lang.Long)" because "<local5>.userClient" is null
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:162)
	at com.example.wallet_service.service.WalletServiceTest$CreditTests.shouldHandleOptimisticLockException(WalletServiceTest.java:117)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:775)
	at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:152)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:91)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:112)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:94)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:87)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:216)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:212)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-12 17:31:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-12 17:31:24 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 60322 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 17:31:24 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 17:31:24 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 17:31:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 17:31:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2025-11-12 17:31:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 17:31:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 17:31:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 17:31:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 17:31:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 612 ms
2025-11-12 17:31:25 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 17:31:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 17:31:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 17:31:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 17:31:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 17:31:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 17:31:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d13379e
2025-11-12 17:31:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 17:31:25 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 17:31:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 17:31:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:31:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 17:31:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 17:31:26 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 51fc29ab-80b5-463e-9b83-d18db6c3c68d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 17:31:26 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 17:31:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 17:31:27 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.853 seconds (process running for 3.031)
2025-11-12 17:33:07 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 17:33:07 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 17:33:07 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-12 17:33:07 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 17:33:07 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 17:33:07 [http-nio-8082-exec-2] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@303f0339
2025-11-12 17:33:07 [http-nio-8082-exec-2] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 1000, description: fine
2025-11-12 17:33:07 [http-nio-8082-exec-2] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 2: 401  on GET request for "http://localhost:8081/api/users/2": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401  on GET request for "http://localhost:8081/api/users/2": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:415)
	at com.example.wallet_service.client.UserClient.getUserById(UserClient.java:22)
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:238)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.debitWallet(WalletController.java:181)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 17:33:59 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 17:33:59 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 17:33:59 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@9bae16c
2025-11-12 17:33:59 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 1000, description: fine
2025-11-12 17:33:59 [http-nio-8082-exec-3] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 2: 401  on GET request for "http://localhost:8081/api/users/2": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401  on GET request for "http://localhost:8081/api/users/2": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:415)
	at com.example.wallet_service.client.UserClient.getUserById(UserClient.java:22)
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:238)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.debitWallet(WalletController.java:181)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 17:34:15 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 17:34:15 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 17:34:15 [http-nio-8082-exec-5] WARN  c.e.w.service.WalletService - Wallet not found with ID: 5
2025-11-12 17:34:21 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 17:34:21 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 17:34:21 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@2246085f
2025-11-12 17:34:21 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Credit request - walletId: 2, amount: 1000, description: fine
2025-11-12 17:34:21 [http-nio-8082-exec-7] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 2: 401  on GET request for "http://localhost:8081/api/users/2": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
org.springframework.web.client.HttpClientErrorException$Unauthorized: 401  on GET request for "http://localhost:8081/api/users/2": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:147)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:953)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:902)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:801)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:415)
	at com.example.wallet_service.client.UserClient.getUserById(UserClient.java:22)
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 18:08:41 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 18:08:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 18:08:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:08:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 18:08:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 18:08:49 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 62102 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 18:08:49 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 18:08:49 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:08:49 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'restTemplate' defined in class path resource [com/example/wallet_service/config/WalletConfig.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=walletConfig; factoryMethodName=restTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/wallet_service/config/WalletConfig.class]] for bean 'restTemplate' since there is already [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=restTemplateConfig; factoryMethodName=restTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/wallet_service/client/RestTemplateConfig.class]] bound.
2025-11-12 18:08:49 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12 18:08:49 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'restTemplate', defined in class path resource [com/example/wallet_service/config/WalletConfig.class], could not be registered. A bean with that name has already been defined in class path resource [com/example/wallet_service/client/RestTemplateConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-11-12 18:10:10 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 62212 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 18:10:10 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 18:10:10 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:10:10 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'restTemplate' defined in class path resource [com/example/wallet_service/config/WalletConfig.class]: Cannot register bean definition [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=walletConfig; factoryMethodName=restTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/wallet_service/config/WalletConfig.class]] for bean 'restTemplate' since there is already [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=restTemplateConfig; factoryMethodName=restTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/wallet_service/client/RestTemplateConfig.class]] bound.
2025-11-12 18:10:10 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-12 18:10:10 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'restTemplate', defined in class path resource [com/example/wallet_service/config/WalletConfig.class], could not be registered. A bean with that name has already been defined in class path resource [com/example/wallet_service/client/RestTemplateConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2025-11-12 18:12:50 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 62363 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 18:12:50 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 18:12:50 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:12:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 18:12:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2025-11-12 18:12:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 18:12:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 18:12:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 18:12:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 18:12:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 672 ms
2025-11-12 18:12:50 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 18:12:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 18:12:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 18:12:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 18:12:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 18:12:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 18:12:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5891b7c5
2025-11-12 18:12:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 18:12:51 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 18:12:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 18:12:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:12:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 18:12:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 18:12:52 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 12fb0250-0dc3-4184-8785-abd98c8b5cce

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 18:12:52 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 18:12:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 18:12:53 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 3.233 seconds (process running for 3.456)
2025-11-12 18:13:10 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 18:13:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 18:13:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:13:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 18:13:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 18:13:22 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 62425 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 18:13:22 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 18:13:22 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:13:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 18:13:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2025-11-12 18:13:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 18:13:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 18:13:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 18:13:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 18:13:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 659 ms
2025-11-12 18:13:22 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 18:13:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 18:13:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 18:13:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 18:13:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 18:13:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 18:13:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62158991
2025-11-12 18:13:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 18:13:23 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 18:13:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 18:13:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:13:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 18:13:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 18:13:24 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 20dd21b8-87a1-47d1-bbb5-f51c17c1ea50

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 18:13:24 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 18:13:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 18:13:24 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 2.843 seconds (process running for 3.023)
2025-11-12 18:14:01 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 18:14:01 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 18:14:01 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-11-12 18:14:01 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 18:14:35 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 18:14:35 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 18:14:35 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@1f0b8aec
2025-11-12 18:14:35 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 18:14:35 [http-nio-8082-exec-3] ERROR c.e.w.service.WalletService - Failed to verify user blacklist status from user-service: 401  on GET request for "http://localhost:8081/api/users/4/details": "    {<EOL>      "errorCode": "UNAUTHORIZED",<EOL>      "message": "Authentication failed or token is invalid."<EOL>    }<EOL>"
2025-11-12 18:14:35 [http-nio-8082-exec-3] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 4: Unable to verify user status. Please try again later.
com.example.wallet_service.exception.WalletBlacklistedException: Unable to verify user status. Please try again later.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:327)
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 18:22:57 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 18:22:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 18:22:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:22:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 18:22:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 18:23:05 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 62882 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 18:23:05 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 18:23:05 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:23:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 18:23:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2025-11-12 18:23:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 18:23:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 18:23:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 18:23:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 18:23:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 688 ms
2025-11-12 18:23:05 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 18:23:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 18:23:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 18:23:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 18:23:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 18:23:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 18:23:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@be616f0
2025-11-12 18:23:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 18:23:06 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 18:23:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 18:23:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:23:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 18:23:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 18:23:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 25a22130-cbaa-4d5e-84d1-380ce375d33c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 18:23:07 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 18:23:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 18:23:09 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 4.355 seconds (process running for 4.558)
2025-11-12 18:25:10 [http-nio-8082-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 18:25:10 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 18:25:10 [http-nio-8082-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-12 18:25:10 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 18:25:19 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@553bb348
2025-11-12 18:25:19 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 4 [CREDIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 18:25:19 [http-nio-8082-exec-3] INFO  c.e.w.service.TransactionService - CREDIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 18:25:19 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit successful - walletId: 4, new balance: 51000.00
2025-11-12 18:25:19 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 18:25:50 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 18:25:50 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 18:25:50 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6e15da9d
2025-11-12 18:25:50 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 18:25:50 [http-nio-8082-exec-4] ERROR c.e.w.service.WalletService - Failed to verify user blacklist status from user-service: User is blacklisted. Transactions are not allowed.
2025-11-12 18:25:50 [http-nio-8082-exec-4] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 4: Unable to verify user status. Please try again later.
com.example.wallet_service.exception.WalletBlacklistedException: Unable to verify user status. Please try again later.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:327)
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 18:35:29 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m22s544ms).
2025-11-12 19:05:46 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=30m16s992ms).
2025-11-12 19:26:26 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m10s622ms).
2025-11-12 19:47:02 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m36s39ms).
2025-11-12 20:02:27 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m24s601ms).
2025-11-12 20:31:35 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=29m8s642ms).
2025-11-12 20:50:41 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m5s58ms).
2025-11-12 21:48:35 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57m54s238ms).
2025-11-12 22:09:05 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m29s874ms).
2025-11-12 22:13:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 22:13:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 22:13:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 22:13:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 22:13:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-12 22:14:05 [main] INFO  c.e.w.WalletServiceApplication - Starting WalletServiceApplication using Java 21.0.8 with PID 64219 (/Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service/build/classes/java/main started by shubhamkumar in /Users/shubhamkumar/Desktop/DigitalWalletSystem/wallet-service)
2025-11-12 22:14:05 [main] DEBUG c.e.w.WalletServiceApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-12 22:14:05 [main] INFO  c.e.w.WalletServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 22:14:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 22:14:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2025-11-12 22:14:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8082 (http)
2025-11-12 22:14:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 22:14:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-12 22:14:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-12 22:14:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 773 ms
2025-11-12 22:14:06 [main] DEBUG c.e.w.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
2025-11-12 22:14:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 22:14:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-12 22:14:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 22:14:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 22:14:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-12 22:14:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1255de25
2025-11-12 22:14:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-12 22:14:07 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 9.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 22:14:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 22:14:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 22:14:07 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 22:14:08 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-12 22:14:08 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1be75e9d-89b2-4f83-a4cb-6b62dfebce74

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-11-12 22:14:08 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 22:14:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8082 (http) with context path '/'
2025-11-12 22:14:09 [main] INFO  c.e.w.WalletServiceApplication - Started WalletServiceApplication in 3.464 seconds (process running for 3.654)
2025-11-12 22:15:26 [http-nio-8082-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 22:15:26 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 22:15:26 [http-nio-8082-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-11-12 22:15:26 [http-nio-8082-exec-2] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 22:15:35 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 22:15:36 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:15:36 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@54da61
2025-11-12 22:15:36 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 22:15:36 [http-nio-8082-exec-3] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 4: User is blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: User is blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:324)
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 22:15:49 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - insert into wallets (balance,blacklisted,user_id,version,wallet_name) values (?,?,?,?,?)
2025-11-12 22:16:44 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 2
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6dba1466
2025-11-12 22:16:44 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit request - walletId: 2, amount: 1000, description: fine
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 2 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 22:16:44 [http-nio-8082-exec-6] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 0.00
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 22:16:44 [http-nio-8082-exec-6] INFO  c.e.w.service.WalletService - Debit successful - walletId: 2, new balance: 500.50
2025-11-12 22:16:44 [http-nio-8082-exec-6] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 22:16:54 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 5
2025-11-12 22:16:54 [http-nio-8082-exec-7] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:16:54 [http-nio-8082-exec-7] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@35f04836
2025-11-12 22:16:54 [http-nio-8082-exec-7] INFO  c.e.w.service.WalletService - Debit request - walletId: 5, amount: 1000, description: fine
2025-11-12 22:16:54 [http-nio-8082-exec-7] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 5: User is blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: User is blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:324)
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:253)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.debitWallet(WalletController.java:181)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 22:18:36 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 22:18:36 [http-nio-8082-exec-9] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:18:36 [http-nio-8082-exec-9] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@2cec70d7
2025-11-12 22:18:36 [http-nio-8082-exec-9] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 1000, description: fine
2025-11-12 22:18:37 [http-nio-8082-exec-9] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 4: User is blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: User is blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:324)
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.creditWallet(WalletController.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 22:18:55 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 22:18:55 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:18:55 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@7684e085
2025-11-12 22:18:55 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 22:18:55 [http-nio-8082-exec-1] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:18:55 [http-nio-8082-exec-1] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@17f6c94f
2025-11-12 22:18:55 [http-nio-8082-exec-1] INFO  c.e.w.service.WalletService - Debit request - walletId: 4, amount: 100, description: fine
2025-11-12 22:18:55 [http-nio-8082-exec-1] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 4: User is blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: User is blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:324)
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:253)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.transfer(WalletController.java:233)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 22:19:16 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 22:19:16 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:19:16 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@21c912d2
2025-11-12 22:19:16 [http-nio-8082-exec-3] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 22:19:16 [http-nio-8082-exec-3] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:19:16 [http-nio-8082-exec-3] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@63f5fd93
2025-11-12 22:19:31 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@2366811a
2025-11-12 22:19:31 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@6f527b75
2025-11-12 22:19:31 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Debit request - walletId: 1, amount: 100, description: fine
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG c.e.w.service.TransactionService - Checking limits for wallet 1 [DEBIT]: 2025-11-11T18:30 - 2025-11-12T18:29:59.999999999
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - select coalesce(sum(t1_0.amount),0) from transactions t1_0 where t1_0.wallet_id=? and t1_0.type=? and t1_0.timestamp between ? and ?
2025-11-12 22:19:31 [http-nio-8082-exec-4] INFO  c.e.w.service.TransactionService - DEBIT transaction within limits. Daily total: 0.00, Monthly total: 50.00
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - insert into transactions (amount,description,timestamp,type,wallet_id) values (?,?,?,?,?)
2025-11-12 22:19:31 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Debit successful - walletId: 1, new balance: 400.00
2025-11-12 22:19:31 [http-nio-8082-exec-4] DEBUG org.hibernate.SQL - update wallets set balance=?,blacklisted=?,user_id=?,version=?,wallet_name=? where id=? and version=?
2025-11-12 22:19:31 [http-nio-8082-exec-4] INFO  c.e.w.service.WalletService - Credit request - walletId: 4, amount: 100, description: fine
2025-11-12 22:19:31 [http-nio-8082-exec-4] ERROR c.e.w.service.WalletService - Unexpected error during credit for wallet 4: User is blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: User is blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:324)
	at com.example.wallet_service.service.WalletService.credit(WalletService.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.credit(<generated>)
	at com.example.wallet_service.controller.WalletController.transfer(WalletController.java:237)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 22:19:44 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 4
2025-11-12 22:19:44 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:19:44 [http-nio-8082-exec-5] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@4c5f8642
2025-11-12 22:19:44 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Fetching wallet by ID: 1
2025-11-12 22:19:44 [http-nio-8082-exec-5] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0 where w1_0.id=?
2025-11-12 22:19:44 [http-nio-8082-exec-5] DEBUG c.e.w.service.WalletService - Wallet found: com.example.wallet_service.model.Wallet@5a6859ff
2025-11-12 22:19:44 [http-nio-8082-exec-5] INFO  c.e.w.service.WalletService - Debit request - walletId: 4, amount: 100, description: fine
2025-11-12 22:19:44 [http-nio-8082-exec-5] ERROR c.e.w.service.WalletService - Unexpected error during debit for wallet 4: User is blacklisted. Transactions are not allowed.
com.example.wallet_service.exception.WalletBlacklistedException: User is blacklisted. Transactions are not allowed.
	at com.example.wallet_service.service.WalletService.verifyUserNotBlacklisted(WalletService.java:324)
	at com.example.wallet_service.service.WalletService.debit(WalletService.java:253)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.example.wallet_service.service.WalletService$$SpringCGLIB$$0.debit(<generated>)
	at com.example.wallet_service.controller.WalletController.transfer(WalletController.java:233)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.wallet_service.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-12 22:25:05 [http-nio-8082-exec-8] INFO  c.e.w.service.WalletService - Fetching all wallets
2025-11-12 22:25:05 [http-nio-8082-exec-8] DEBUG org.hibernate.SQL - select w1_0.id,w1_0.balance,w1_0.blacklisted,w1_0.user_id,w1_0.version,w1_0.wallet_name from wallets w1_0
2025-11-12 22:25:05 [http-nio-8082-exec-8] DEBUG c.e.w.service.WalletService - Total wallets fetched: 5
2025-11-12 22:31:01 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-12 22:31:03 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-12 22:31:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 22:31:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-12 22:31:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
